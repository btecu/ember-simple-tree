{{#if hasBlock}}
  {{#x-tree-node
    checkable=checkable
    recursiveCheck=recursiveCheck
    updateCheckbox=(action "updateCheckbox")
    chosenId=chosenId
    onCheck=onCheck
    onSelect=onSelect
    onContextMenu=onContextMenu
    onHover=onHover
    onHoverOut=onHoverOut
    model=model
    expandedIcon=expandedIcon
    collapsedIcon=collapsedIcon
    as |node|
  }}
    {{yield node}}
  {{/x-tree-node}}

  {{#if model.isExpanded}}
    {{#x-tree-branch
      checkable=checkable
      recursiveCheck=recursiveCheck
      updateCheckbox=(action "updateCheckbox")
      chosenId=chosenId
      onCheck=onCheck
      onSelect=onSelect
      onContextMenu=onContextMenu
      onHover=onHover
      onHoverOut=onHoverOut
      model=model.children
      expandedIcon=expandedIcon
      collapsedIcon=collapsedIcon
      as |node|
    }}
      {{yield node}}
    {{/x-tree-branch}}
  {{/if}}
{{else}}
  {{x-tree-node
    model=model
    checkable=checkable
    recursiveCheck=recursiveCheck
    updateCheckbox=(action "updateCheckbox")
    chosenId=chosenId
    onCheck=onCheck
    onSelect=onSelect
    onContextMenu=onContextMenu
    onHover=onHover
    onHoverOut=onHoverOut
    expandedIcon=expandedIcon
    collapsedIcon=collapsedIcon
  }}
  {{#if model.isExpanded}}
    {{x-tree-branch
      model=model.children
      checkable=checkable
      recursiveCheck=recursiveCheck
      updateCheckbox=(action "updateCheckbox")
      chosenId=chosenId
      onCheck=onCheck
      onSelect=onSelect
      onContextMenu=onContextMenu
      onHover=onHover
      onHoverOut=onHoverOut
      expandedIcon=expandedIcon
      collapsedIcon=collapsedIcon
    }}
  {{/if}}
{{/if}}
