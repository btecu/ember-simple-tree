{"version":3,"file":"x-tree.js","sources":["../../src/components/x-tree.js"],"sourcesContent":["import Component from '@glimmer/component';\nimport { getAncestors, getDescendents } from '../utils/tree.js';\nimport { set } from '@ember/object';\n\nexport default class TreeComponent extends Component {\n  get collapsedIcon() {\n    return this.args.collapsedIcon ?? 'x-tree-collapsed-icon';\n  }\n\n  get expandedIcon() {\n    return this.args.expandedIcon ?? 'x-tree-expanded-icon';\n  }\n\n  constructor() {\n    super(...arguments);\n\n    // Make sure chosen item is highlighted and expanded-to in the tree\n    if (this.args.chosenId) {\n      let chosen = getDescendents(this.args.model).find((x) => x.id === this.args.chosenId);\n      if (chosen) {\n        getAncestors(this.args.model, chosen)\n          .filter((x) => x.id !== this.args.chosenId)\n          .forEach((x) => set(x, 'isExpanded', true));\n      }\n    }\n\n    // Expand to given depth\n    if (this.args.expandDepth) {\n      getDescendents(this.args.model, this.args.expandDepth).setEach('isExpanded', true);\n    }\n  }\n}\n"],"names":["TreeComponent","Component","collapsedIcon","args","expandedIcon","constructor","arguments","chosenId","chosen","getDescendents","model","find","x","id","getAncestors","filter","forEach","set","expandDepth","setEach","setComponentTemplate","TEMPLATE"],"mappings":";;;;;;;;AAIe,MAAMA,aAAa,SAASC,SAAS,CAAC;EACnD,IAAIC,aAAaA,GAAG;AAClB,IAAA,OAAO,IAAI,CAACC,IAAI,CAACD,aAAa,IAAI,uBAAuB;AAC3D,EAAA;EAEA,IAAIE,YAAYA,GAAG;AACjB,IAAA,OAAO,IAAI,CAACD,IAAI,CAACC,YAAY,IAAI,sBAAsB;AACzD,EAAA;AAEAC,EAAAA,WAAWA,GAAG;IACZ,KAAK,CAAC,GAAGC,SAAS,CAAC;;AAEnB;AACA,IAAA,IAAI,IAAI,CAACH,IAAI,CAACI,QAAQ,EAAE;MACtB,IAAIC,MAAM,GAAGC,cAAc,CAAC,IAAI,CAACN,IAAI,CAACO,KAAK,CAAC,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAK,IAAI,CAACV,IAAI,CAACI,QAAQ,CAAC;AACrF,MAAA,IAAIC,MAAM,EAAE;AACVM,QAAAA,YAAY,CAAC,IAAI,CAACX,IAAI,CAACO,KAAK,EAAEF,MAAM,CAAC,CAClCO,MAAM,CAAEH,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAK,IAAI,CAACV,IAAI,CAACI,QAAQ,CAAC,CAC1CS,OAAO,CAAEJ,CAAC,IAAKK,GAAG,CAACL,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;AAC/C,MAAA;AACF,IAAA;;AAEA;AACA,IAAA,IAAI,IAAI,CAACT,IAAI,CAACe,WAAW,EAAE;AACzBT,MAAAA,cAAc,CAAC,IAAI,CAACN,IAAI,CAACO,KAAK,EAAE,IAAI,CAACP,IAAI,CAACe,WAAW,CAAC,CAACC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;AACpF,IAAA;AACF,EAAA;AACF;AAACC,oBAAA,CAAAC,QAAA,EA3BoBrB,aAAa,CAAA;;;;"}